<% content_for :title, @author.name %>

<section class="rounded-xl border p-6">
  <div class="flex items-center gap-4">
    <% if @author.avatar_url.present? %>
      <img src="<%= @author.avatar_url %>" alt="<%= @author.name %>"
           class="w-16 h-16 rounded-full object-cover" />
    <% else %>
      <div class="w-16 h-16 rounded-full bg-gray-200"></div>
    <% end %>
    <div>
      <h1 class="text-2xl font-bold"><%= @author.name %></h1>
      <% if @author.bio.present? %>
        <p class="text-gray-700 mt-1"><%= @author.bio %></p>
      <% end %>
      <% if @author.social_links.present? %>
        <div class="mt-2 flex gap-3 text-sm">
          <% @author.social_links.each do |label, url|
               next if url.blank? %>
            <%= link_to label.to_s.titleize, url, target: "_blank",
                        rel: "noopener", class: "underline hover:no-underline" %>
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
</section>

<!-- GRID of existing article cards -->
<ul class="mt-6 grid gap-5 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
  <% @articles.each do |article| %>
    <li class="h-full">
      <%= render "articles/card", article: article %>
    </li>
  <% end %>
</ul>

<div class="mt-6">
  <%= render "shared/pagination", pagy: @pagy %>
</div>
